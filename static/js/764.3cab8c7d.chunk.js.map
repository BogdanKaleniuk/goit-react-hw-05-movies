{"version":3,"file":"static/js/764.3cab8c7d.chunk.js","mappings":"8LAwEA,UAlEe,WACb,OAAwCA,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAgBF,EAAaG,IAAI,SACvC,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,UAASF,GAAgC,IAAnE,eAAOK,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACM,KAAVJ,GAKFK,MAAM,sIAAD,OAAuIL,IACzIM,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,IACbF,MAAK,SAAAG,GACwB,IAAvBA,EAAKC,cAMVX,EACEU,EAAKE,QAAQC,KAAI,kBAAoB,CAAEC,GAAtB,EAAGA,GAA2BC,MAA9B,EAAOA,MAAP,KANnBC,MACE,sNAOH,IAEAC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,EAAhB,GAMjB,GAAE,CAACjB,IASJ,OACE,4BACE,kBAAMoB,OAAO,GAAGC,SATE,SAAAC,GACpBA,EAAEC,iBACF,IAAMC,EAAQF,EAAEG,OAAOzB,MAAMwB,MAC7BvB,EAASuB,GACT9B,EAAgB,CAAEM,MAAOwB,GAC1B,EAIG,WACE,kBAAOE,KAAK,OAAOC,KAAK,QAAQC,aAAc5B,KAC9C,mBAAQ0B,KAAK,SAAb,wBAEF,wBACG5B,EAAOc,KAAI,YAAoB,IAAjBC,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MACjB,OACE,yBACE,SAAC,KAAD,CACEe,GAAE,UAAKhB,GACPiB,OAAQ,CAAEC,WAAW,SAAD,OAAW/B,IAC/BgC,MAAO,CAAEC,KAAM/B,GAHjB,SAKGY,KANID,EAUZ,QAIR,C","sources":["pages/Movies.js"],"sourcesContent":["// import SearchBar from '../components/SearchBar/SearchBar';\n// import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n// import { fetchSearchMovies } from '../components/movieApi';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const defaultParams = searchParams.get('query');\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useState(defaultParams ? defaultParams : '');\n  const location = useLocation();\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n    function fetchMovie() {\n      \n      fetch(`https://api.themoviedb.org/3/search/movie?api_key=7880f10208129df405f0f3d5264141ee&language=en-US&page=1&include_adult=false&query=${query}`)\n        .then(response => response.json())\n        .then(data => {\n           if (data.total_results === 0) {\n          alert(\n            'По запиту немає фільмів, спробуйте ще раз'\n          );\n          return;\n        }\n          setMovies(\n            data.results.map(({ id, title }) => ({ id: id, title: title }))\n          );\n        })\n        \n        .catch(error => console.log(error));\n        \n    }\n    \n\n    fetchMovie();\n  }, [query]);\n\n  const handleSubbmit = e => {\n    e.preventDefault();\n    const value = e.target.query.value;\n    setQuery(value);\n    setSearchParams({ query: value });\n  };\n\n  return (\n    <div>\n      <form action=\"\" onSubmit={handleSubbmit}>\n        <input type=\"text\" name=\"query\" defaultValue={query} />\n        <button type=\"submit\">Search</button>\n      </form>\n      <ul>\n        {movies.map(({ id, title }) => {\n          return (\n            <li key={id}>\n              <Link\n                to={`${id}`}\n                search={{ querySerch: `query=${query}` }}\n                state={{ from: location }}\n              >\n                {title}\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\nexport default Movies;"],"names":["useSearchParams","searchParams","setSearchParams","defaultParams","get","useState","movies","setMovies","query","setQuery","location","useLocation","useEffect","fetch","then","response","json","data","total_results","results","map","id","title","alert","catch","error","console","log","action","onSubmit","e","preventDefault","value","target","type","name","defaultValue","to","search","querySerch","state","from"],"sourceRoot":""}